const lib = require ('@sap/cds-services')
const cds = global.cds

lib.inject(cds)

require = cds.lazify (module) // eslint-disable-line no-global-assign

if (!lib.Client) lib.Client = require('@sap/cds-services/lib/connect/Service')
if (!lib.Provider) lib.Provider = require('@sap/cds-services/lib/services/Service')
if (!lib.Handler) lib.Handler = require('@sap/cds-services/lib/services/hooks/Base')

module.exports = lib